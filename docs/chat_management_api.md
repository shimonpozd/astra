# ТЗ для Frontend: Управление чатами

## 1. Обзор

Бэкенд был обновлен для поддержки полноценного управления списком чатов. Добавлены названия, сортировка по времени на стороне бэкенда и возможность удаления чатов. Ниже описаны изменения в API, которые необходимо поддержать в интерфейсе.

## 2. Получение списка чатов (с названиями и сортировкой)

Эндпоинт `GET /chats` был обновлен.

- **Эндпоинт:** `GET /chats`
- **Метод:** `GET`

### Изменения в ответе

1.  **Сортировка:** Список чатов теперь всегда приходит отсортированным по времени последнего изменения (`last_modified`) в порядке **от нового к старому**. Фронтенду больше не нужно выполнять сортировку на своей стороне.

2.  **Новое поле `name`:** Каждый объект чата в массиве теперь содержит поле `name`.

### Пример объекта в ответе:
```json
{
  "session_id": "e27a6dea-2d95-4f30-9458-61aa1f02b944",
  "name": "Исследование трактата Шаббат 25а.1...",
  "last_modified": "2025-09-23T13:11:51.297Z",
  "message_count": 4
}
```

### Что нужно сделать на фронтенде:

- В списке чатов отображать значение поля `name` как основной заголовок чата.
- Если поле `name` пустое или отсутствует (для очень старых чатов), можно использовать запасное название, как и раньше (например, "Чат [ID]").
- Убрать любую логику сортировки чатов на фронтенде, так как бэкенд теперь делает это сам.

## 3. Удаление чата

Добавлен новый эндпоинт для удаления сессии чата.

- **Эндпоинт:** `DELETE /chats/{session_id}`
- **Метод:** `DELETE`

### Что нужно сделать на фронтенде:

- Рядом с каждым чатом в списке добавить иконку или кнопку "Удалить".
- При нажатии на нее вызывать этот эндпоинт, подставляя `session_id` удаляемого чата.
- Бэкенд в случае успеха вернет статус `204 No Content`.
- После получения успешного ответа, фронтенд должен просто удалить соответствующий чат из списка в UI, без необходимости делать повторный запрос `GET /chats`.

## 4. Автоматическое создание названий

Это функция бэкенда, на фронтенде для нее ничего делать не нужно. Название для нового чата будет автоматически сгенерировано из первого отправленного сообщения. При следующем обновлении списка чатов (`GET /chats`) у этого чата уже будет `name`.
